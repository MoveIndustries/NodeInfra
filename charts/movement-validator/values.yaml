# Default values for movement-validator
# This is a YAML-formatted file.

# Validator metadata
validator:
  name: "validator-01"
  nodeType: "vn"  # validator node

# Container image configuration
image:
  repository: ghcr.io/movementlabsxyz/aptos-node
  tag: "latest"
  pullPolicy: IfNotPresent

# Network configuration
network:
  name: "testnet"
  chainId: "126"

# Genesis configuration
genesis:
  # Genesis files location
  repository: "movementlabsxyz/movement-networks"
  branch: "main"
  # Genesis files will be downloaded from:
  # https://raw.githubusercontent.com/${repository}/${branch}/${network.name}/genesis.blob
  # https://raw.githubusercontent.com/${repository}/${branch}/${network.name}/waypoint.txt

# Validator identity (IMPORTANT: These should be kept secret in production)
# For production, use AWS Secrets Manager or similar
identity:
  # Set to true to use identity from values (for testing only)
  # Set to false to use existing secret
  createSecret: false
  # If createSecret is false, specify the secret name
  existingSecret: "validator-identity"
  # If createSecret is true, provide the identity data
  # Example format (DO NOT USE IN PRODUCTION):
  # accountAddress: "0xd1126ce48bd65fb72190dbd9a6eaa65ba973f1e1664ac0cfba4db1d071fd0c36"
  # accountPrivateKey: "0x023f37203a2476c42566a61cc55c3ca875dbb4cc41c0deb789f8e7bf88183638"
  # consensusPrivateKey: "0x6192cca8778c8ad7c0c6f6fd120ba61aeb712df188096946582bb71cf9010cf7"
  # networkPrivateKey: "0x6192cca8778c8ad7c0c6f6fd120ba61aeb712df188096946582bb71cf9010cf7"

# VFN (Validator Full Node) connection configuration
# This is the identity the validator uses to communicate with its VFN
vfn:
  enabled: true
  # VFN network key (public key for the VFN private connection)
  key: "b0f405a3e75516763c43a2ae1d70423699f34cd68fa9f8c6bb2d67aa87d0af69"
  peerId: "00000000000000000000000000000000d58bc7bb154b38039bc9096ce04e1237"

# Resource requests and limits
resources:
  requests:
    cpu: "12"
    memory: "24Gi"
  limits:
    cpu: "14"
    memory: "28Gi"

# Persistent storage configuration
storage:
  size: "500Gi"
  storageClassName: "gp3"
  # EBS configuration for gp3
  iops: 6000
  throughput: 500

# Service configuration
service:
  # Validator should only have ClusterIP (private)
  type: ClusterIP
  ports:
    api: 8080
    metrics: 9101
    admin: 9102
    vfn: 6181  # Private VFN network port
    validator: 6180  # Validator network port

# Monitoring configuration
monitoring:
  enabled: true
  metricsPort: 9101

# Liveness and readiness probes
probes:
  liveness:
    enabled: true
    initialDelaySeconds: 30
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3
  readiness:
    enabled: true
    initialDelaySeconds: 10
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3

# Node affinity and tolerations
affinity: {}
tolerations: []
nodeSelector: {}

# Security context
securityContext:
  runAsNonRoot: true
  runAsUser: 1000
  fsGroup: 1000

# Service account
serviceAccount:
  create: true
  annotations: {}
  name: ""

# Additional labels
labels: {}

# Additional annotations
annotations: {}